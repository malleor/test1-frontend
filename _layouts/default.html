<!DOCTYPE html>
<html lang="en" ng-app="myApp">
	<head>
		<meta charset="utf-8"/>
		<title>{% if page.title %} {{ page.title }} {% endif %} - Main website name</title>
		
		<!-- For responsive site
			<meta name="viewport" content="width=device-width, initial-scale=1.0">
		-->
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<link rel="author" href="humans.txt">
		<meta name="description" content="Description Goes Here">
		
		<link rel="stylesheet" href="css/style.css">
		<link rel="shortcut icon" href="ico/favicon.png">
		
		<script src="http://code.angularjs.org/1.0.6/angular.min.js"></script>		
		<script>
			var myApp = angular.module('myApp', [], function($interpolateProvider) {
				console.log('changing the delimiters');
				$interpolateProvider.startSymbol('[[');
				$interpolateProvider.endSymbol(']]');
			});
			
			function BackendController($scope) {
			  $scope.master = {};

			  $scope.resolve = function() {
				url = "http://test1-backend.herokuapp.com/api/" + $scope.name;
				window.jQuery.getJSON(url, function(data){
					console.log(data);
					$scope.ans = data.ans;
					$scope.$apply();
				});
			  };

			  $scope.reset = function() {
				$scope.name = 'ala';
			  };
			}
		</script>
	</head>
	<body>
	<!-- Header
	    ================================================== -->

    <nav role="navigation">
    </nav>

	<header role="banner">

	</header>

	{{ content }}

	<!-- Footer
	    ================================================== -->

	<footer role="contentinfo">
		<div ng-controller="BackendController">
			<input ng-model="name"><button ng-click="resolve()">Resolve</button>
			<p ng-init="reset()">[[ans]]</p>
		</div>
	</footer>

	<!-- Javascripts 
	    ================================================= -->
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
	<script src="js/custom.js"></script>

    <!-- Analytics
    ================================================== -->
    <script>
		// analytics code
    </script>	
	</body>
</html>
